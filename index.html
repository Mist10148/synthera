<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>OmniLab: Ultimate</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="lab-theme">
    <div id="mission-overlay" class="overlay-container hidden">
        <div class="mission-dossier">
            <div class="dossier-header">
                <h2>Laboratory Protocol</h2><button class="close-btn" onclick="toggleMissionOverlay()">×</button></div>
            <div class="dossier-body">
                <h1 id="briefing-title">Loading...</h1>
                <p id="briefing-desc">...</p>
                <div class="objectives-box"><strong>Procedure:</strong>
                    <ul id="briefing-steps"></ul>
                </div>
            </div>
            <div class="dossier-footer"><button class="accept-btn" onclick="startMission()" id="start-mission-btn">Begin</button></div>
        </div>
    </div>
    <div id="mission-select-modal" class="overlay-container hidden">
        <div class="mission-dossier">
            <div class="dossier-header">
                <h2>Select Protocol</h2><button class="close-btn" onclick="closeMissionSelect()">×</button></div>
            <div class="dossier-body">
                <p>Choose an experiment:</p>
                <div class="mission-grid" id="mission-grid"></div>
            </div>
        </div>
    </div>
    <div id="error-modal" class="overlay-container hidden">
        <div class="error-card">
            <i class="fa-solid fa-triangle-exclamation error-icon"></i>
            <h1>PROTOCOL FAILED</h1>
            <p id="error-message">Unknown Error.</p>
            <button class="retry-btn" onclick="startMission()">RESET WORKBENCH</button>
        </div>
    </div>
    <div id="success-modal" class="overlay-container hidden">
        <div class="success-card">
            <div class="rank-badge" id="rank-badge">A</div>
            <h1>SUCCESS</h1>
            <div class="stats-grid">
                <div class="stat-box"><span>Result</span><strong id="final-product">-</strong></div>
            </div><button class="next-level-btn" onclick="loadNextMission()">NEXT</button></div>
    </div>
    <div id="lab-interface" class="interface-blur">
        <nav>
            <div class="nav-left">
                <div class="logo">OmniLab <span>ULTIMATE</span></div>
                <div class="nav-controls"><button class="control-btn mission-select" onclick="openMissionSelect()"><i class="fa-solid fa-list"></i> Protocols</button><button class="control-btn replay" onclick="restartMission()"><i class="fa-solid fa-rotate-right"></i> Replay</button></div>
            </div>
            <div class="hud-tracker" onclick="toggleMissionOverlay()"><span id="hud-mission-title">Loading...</span>
                <div class="progress-bar">
                    <div class="fill" id="hud-progress"></div>
                </div>
            </div>
        </nav>
        <div class="main-layout">
            <div class="sidebar">
                <div class="category">
                    <h3>Glassware</h3>
                    <div id="list-glassware" class="tool-grid"></div>
                </div>
                <div class="category">
                    <h3>Hardware</h3>
                    <div id="list-hardware" class="tool-grid"></div>
                </div>
                <div class="category">
                    <h3>Chemicals</h3>
                    <div id="list-chemicals" class="tool-grid"></div>
                </div>
                <div class="category">
                    <h3>Solids</h3>
                    <div id="list-solids" class="tool-grid"></div>
                </div>
            </div>
            <div class="workbench-container">
                <div class="workbench" id="bench" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="bench-label">BENCH 01</div>
                    <div class="trash-zone"><i class="fa-solid fa-trash-can"></i></div>
                </div>
                <div class="lab-console">
                    <div id="console-logs"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>